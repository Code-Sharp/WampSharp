dist: xenial
addons:
  snaps:
  - name: dotnet-sdk
    classic: true
    channel: latest/beta
sudo: required
language: csharp
mono: none

before_install: cd src/netstandard/

install:
- sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF
- sudo apt install apt-transport-https ca-certificates
- echo "deb http://download.mono-project.com/repo/debian wheezy/snapshots/5.10 main" | sudo tee /etc/apt/sources.list.d/mono-xamarin.list
- sudo apt update
- sudo apt install mono-devel
- export FrameworkPathOverride=$(dirname $(which mono))/../lib/mono/4.5/

script:
 - sudo snap alias dotnet-sdk.dotnet dotnet
 - dotnet restore
 - dotnet build
